<!DOCTYPE html>
<html lang="pt">
<head><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/><title>Curso Gratuito — InfoLearn</title><link rel="stylesheet" href="style.css"></head>
<body>
<header class="topbar"><div class="brand"><img src="icon-192.png" width="48"><div><div class="logo">InfoLearn Academy</div></div></div></header>
<main class="container"><section class="card"><h2 id="title">Curso</h2><div id="video"></div><h3>Materiais</h3><div id="pdfs"></div><h3>Teste</h3><div id="quiz"></div></section></main>
<script type="module">
import { auth } from './firebase.js';
import { onAuthStateChanged } from "https://www.gstatic.com/firebasejs/9.22.2/firebase-auth.js";
onAuthStateChanged(auth, user=>{ if(!user){ alert('Faça login para aceder a este curso gratuito.'); location.href='auth.html'; return; } if(!user.emailVerified){ alert('Verifique seu email antes de acessar.'); location.href='auth.html'; return; } initCourse(); });
function initCourse(){ document.getElementById('title').innerText='Curso Gratuito'; document.getElementById('video').innerHTML=`<iframe width="100%" height="320" src="https://www.youtube.com/embed/dQw4w9WgXcQ" frameborder="0" allowfullscreen></iframe>`; document.getElementById('pdfs').innerHTML=`<a class="btn" href="sample.pdf" target="_blank">Baixar PDF 1</a> <a class="btn" href="sample2.pdf" target="_blank">Baixar PDF 2</a>`; // quiz sample
window.currentQuiz=[1,0,2]; const questions=[{q:'Pergunta 1', opts:['A','B','C']},{q:'Pergunta 2', opts:['Sim','Não']},{q:'Pergunta 3', opts:['X','Y','Z']}]; const qn=document.getElementById('quiz'); qn.innerHTML=questions.map((q,i)=>`<div style="margin-bottom:10px"><p>${i+1}. ${q.q}</p>${q.opts.map((o,idx)=>`<label style="display:block"><input type="radio" name="q${i}" value="${idx}"> ${o}</label>`).join('')}</div>`).join('')+`<button class="btn" onclick="grade()">Enviar</button><div id="res"></div>`; window.grade=function(){let score=0; for(let i=0;i<questions.length;i++){ const s=document.querySelector(`input[name=q${i}]:checked`); if(s && Number(s.value)===window.currentQuiz[i]) score++; } const percent=Math.round(score/questions.length*100); document.getElementById('res').innerHTML=`Acertou ${score}/${questions.length} — ${percent}%` + (percent>=65?` <button class="btn" onclick="requestCert(${percent})">Solicitar Certificado</button>`:' <span class="muted">Não atingiu 65%.</span>'); } window.requestCert=function(p){ const subj=encodeURIComponent('Solicitação de Certificado'); const body=encodeURIComponent(`Aluno: ${auth.currentUser?.email||''}\nCurso: ${document.getElementById('title').innerText}\nNota: ${p}%`); window.location.href=`mailto:infolearn8441@gmail.com?subject=${subj}&body=${body}`; } }
</script>
</body>
</html>
